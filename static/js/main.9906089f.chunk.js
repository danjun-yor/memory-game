(window["webpackJsonpmemory-game"]=window["webpackJsonpmemory-game"]||[]).push([[0],{16:function(e,t,a){e.exports=a(31)},25:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(14),s=a.n(i),c=a(11),o=a(0),u=(a(24),a(5)),l=a(6),p=a(8),h=a(7),d=a(9),f=(a(25),a(26),a(3)),m=a.n(f),v=a(4),g=a(10);a(28);function k(e){return e.sort((function(){return.5-Math.random()})),e}var y=a(15),b=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getClassName",value:function(){var e=this.props,t=e.size,a=e.card,n=a.isFlipping,r=a.isOpened,i=a.shouldShow,s=a.card;return"card x".concat(t," ").concat(n?r?"reverse-flip":"flip":""," ").concat(i||!s?"show open":""," ").concat(s?"":"disabled")}},{key:"render",value:function(){var e=this.props,t=e.card,a=e.handleCardClick;return r.a.createElement("li",{className:this.getClassName(),onClick:function(){return a(t.id)}},t.card?r.a.createElement(y.a,{icon:t.card}):"")}}]),t}(n.Component),w=[o.e,o.y,o.f,o.g,o.h,o.H,o.M,o.a,o.l,o.C,o.V,o.U,o.S,o.c,o.b,o.d,o.w,o.A,o.L,o.I,o.G,o.O,o.q,o.o,o.m,o.r,o.s,o.u,o.t,o.v,o.z,o.D,o.E,o.K,o.F,o.Q,o.j,o.p,o.B,o.x,o.J,o.k,o.n,o.i,o.N,o.P,o.R,o.T],S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={cards:a.getNewCards(a.props.stage),isFlipping:!1,mapSize:a.getMapSize(),onNextStage:!1},a.checkCardIds=[],a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getMapSize",value:function(){return 2*(this.props.stage+2)===Math.pow(Math.floor(Math.sqrt(2*(this.props.stage+2))),2)?Math.floor(Math.sqrt(2*(this.props.stage+2))):Math.floor(Math.sqrt(2*(this.props.stage+2)))+1}},{key:"getNewCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=k(w).slice(0,e+2),n=this.getMapSize();t&&this.setState({mapSize:n});var r=Math.pow(n,2),i=new Array(r-2*a.length).fill(0).map((function(e,t){return{id:1e3+t,card:null,isOpened:!0,isFlipping:!1,shouldShow:!1,isChecked:!0}}));return[].concat(Object(g.a)(k([].concat(Object(g.a)(a),Object(g.a)(a))).map((function(e,t){return{id:t,card:e,isOpened:!1,isFlipping:!1,shouldShow:!1,isChecked:!1}}))),Object(g.a)(i))}},{key:"flip",value:function(e){var t=this;return this.startFlip(e),new Promise((function(a,n){setTimeout((function(){setTimeout((function(){return t.finishFlip(e),a(!0)}),400),t.showCard(e)}),400)}))}},{key:"startFlip",value:function(e){var t=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].isFlipping=!0)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:t})}},{key:"finishFlip",value:function(e){var t=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].isOpened=!t[c].isOpened,t[c].isFlipping=!1)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:t})}},{key:"showCard",value:function(e){var t=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].shouldShow=!t[c].isOpened)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:t})}},{key:"handleCardClick",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var a,n,r,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.cards.slice())[t]){e.next=3;break}return e.abrupt("return");case 3:if(a[t].card){e.next=5;break}return e.abrupt("return");case 5:if(!a[t].isOpened){e.next=7;break}return e.abrupt("return");case 7:if(!a[t].isChecked){e.next=9;break}return e.abrupt("return");case 9:if(!a[t].isFlipping){e.next=11;break}return e.abrupt("return");case 11:return(n=this.checkCardIds).push(t),e.next=15,this.flip([t]);case 15:if(!a.every((function(e){return!e.isFlipping}))){e.next=24;break}for(r=0,i=[];n.length>=2;)s=n.splice(0,2),a[s[0]].card.iconName===a[s[1]].card.iconName?(a[s[0]].isChecked=!0,a[s[1]].isChecked=!0,r++):i.push.apply(i,Object(g.a)(s));if(!(i.length>0)){e.next=22;break}return e.next=22,this.flip(i);case 22:this.props.scoreUp(r),a.every((function(e){return e.isChecked}))?(this.props.stageUp(),this.setState({cards:this.getNewCards(this.props.stage+1,!0),onNextStage:!0})):this.setState({cards:a});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.cards,a=t.map((function(e){return e.id})),e.next=4,this.flip(a);case 4:setTimeout(Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.flip(a);case 2:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,a,n=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.onNextStage,a=this.state.cards,t&&(this.setState({onNextStage:!1}),setTimeout(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.map((function(e){return e.id})),e.next=3,n.flip(t);case 3:setTimeout(Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.flip(t);case 2:case"end":return e.stop()}}),e)}))),1e3);case 4:case"end":return e.stop()}}),e)}))),400));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.cards,n=t.mapSize;return r.a.createElement("section",{className:"deck"},r.a.createElement("ul",{className:"cards"},a.map((function(t,a){return r.a.createElement(b,{key:t.id,size:n,card:t,handleCardClick:e.handleCardClick.bind(e)})}))))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={stage:2,score:0,time:0},a.timerID=0,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"initStage",value:function(){this.setState({stage:1})}},{key:"stageUp",value:function(){this.setState({stage:this.state.stage+1})}},{key:"startTimer",value:function(){var e=this;this.timerID=setInterval((function(){e.setState({time:e.state.time+1})}),1e3)}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"scoreUp",value:function(e){this.setState({score:this.state.score+100*e})}},{key:"render",value:function(){var e=this.state,t=e.stage,a=e.score,n=e.time;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"\uc9dd \ub9de\ucd94\uae30 \uac8c\uc784"),r.a.createElement("button",{onClick:function(){alert("\uc21c\uc704!")}},"\ub85c\uadf8\uc778")),r.a.createElement("main",null,r.a.createElement("section",{className:"score-panel"},r.a.createElement("div",null,"\uc2a4\ud14c\uc774\uc9c0: ",r.a.createElement("span",null,t)),r.a.createElement("div",null,"\uc810\uc218: ",r.a.createElement("span",null,a)),r.a.createElement("div",null,"\uc2dc\uac04: ",r.a.createElement("span",null,function(e){var t=String(Math.floor(e/3600)),a=e%3600,n=String(Math.floor(a/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");return"".concat(t,":").concat(n,":").concat(r)}(n)))),r.a.createElement(S,{stage:t,scoreUp:this.scoreUp.bind(this),stageUp:this.stageUp.bind(this)})),r.a.createElement("footer",null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.b.add(o.W),s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.9906089f.chunk.js.map