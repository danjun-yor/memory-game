(window["webpackJsonpmemory-game"]=window["webpackJsonpmemory-game"]||[]).push([[0],{16:function(t,e,a){t.exports=a(31)},25:function(t,e,a){},26:function(t,e,a){},28:function(t,e,a){},31:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),i=a(14),s=a.n(i),c=a(10),o=a(0),u=(a(24),a(5)),l=a(6),p=a(8),h=a(7),d=a(9),f=(a(25),a(26),a(3)),m=a.n(f),v=a(4),g=a(11);a(28);function k(t){return t.sort((function(){return.5-Math.random()})),t}var y=a(15),b=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"getClassName",value:function(){var t=this.props,e=t.size,a=t.card,n=a.isFlipping,r=a.isOpened,i=a.shouldShow,s=a.card;return"card x".concat(e," ").concat(n?r?"reverse-flip":"flip":""," ").concat(i||!s?"show open":""," ").concat(s?"":"disabled")}},{key:"render",value:function(){var t=this.props,e=t.card,a=t.handleCardClick;return r.a.createElement("li",{className:this.getClassName(),onClick:function(){return a(e.id)}},e.card?r.a.createElement(y.a,{icon:e.card}):"")}}]),e}(n.Component),w=[o.e,o.y,o.f,o.g,o.h,o.H,o.M,o.a,o.l,o.C,o.V,o.U,o.S,o.c,o.b,o.d,o.w,o.A,o.L,o.I,o.G,o.O,o.q,o.o,o.m,o.r,o.s,o.u,o.t,o.v,o.z,o.D,o.E,o.K,o.F,o.Q,o.j,o.p,o.B,o.x,o.J,o.k,o.n,o.i,o.N,o.P,o.R,o.T],S=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={cards:a.getNewCards(a.props.stage),prevCard:null,isFlipping:!1,mapSize:a.getMapSize(),onNextStage:!1},a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"getMapSize",value:function(){return 2*(this.props.stage+2)===Math.pow(Math.floor(Math.sqrt(2*(this.props.stage+2))),2)?Math.floor(Math.sqrt(2*(this.props.stage+2))):Math.floor(Math.sqrt(2*(this.props.stage+2)))+1}},{key:"getNewCards",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=k(w).slice(0,t+2),n=this.getMapSize();e&&this.setState({mapSize:n});var r=Math.pow(n,2),i=new Array(r-2*a.length).fill(0).map((function(t,e){return{id:1e3+e,card:null,isOpened:!0,isFlipping:!1,shouldShow:!1,isChecked:!0}}));return[].concat(Object(g.a)(k([].concat(Object(g.a)(a),Object(g.a)(a))).map((function(t,e){return{id:e,card:t,isOpened:!1,isFlipping:!1,shouldShow:!1,isChecked:!1}}))),Object(g.a)(i))}},{key:"checkClear",value:function(){var t=this.state.cards;return t.filter((function(t){return t.isChecked})).length===t.length}},{key:"flip",value:function(t){var e=this;return this.startFlip(t),new Promise((function(a,n){setTimeout((function(){setTimeout((function(){return e.finishFlip(t),a(!0)}),400),e.showCard(t)}),400)}))}},{key:"startFlip",value:function(t){var e=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<e.length&&e[c].card&&(e[c].isFlipping=!0)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:e})}},{key:"finishFlip",value:function(t){var e=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<e.length&&e[c].card&&(e[c].isOpened=!e[c].isOpened,e[c].isFlipping=!1)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:e})}},{key:"showCard",value:function(t){var e=this.state.cards.slice(),a=!0,n=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c<e.length&&e[c].card&&(e[c].shouldShow=!e[c].isOpened)}}catch(o){n=!0,r=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}this.setState({cards:e})}},{key:"handleCardClick",value:function(){var t=Object(v.a)(m.a.mark((function t(e){var a,n,r,i,s,c,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.props,n=a.scoreUp,r=a.stageUp,i=this.state,s=i.prevCard,c=i.isFlipping,o=this.state.cards.slice(),!c){t.next=5;break}return t.abrupt("return");case 5:if(o[e]){t.next=7;break}return t.abrupt("return");case 7:if(o[e].card){t.next=9;break}return t.abrupt("return");case 9:if(!o[e].isOpened){t.next=11;break}return t.abrupt("return");case 11:if(!o[e].isChecked){t.next=13;break}return t.abrupt("return");case 13:return this.setState({isFlipping:!0}),t.next=16,this.flip([e]);case 16:if(s){t.next=19;break}return this.setState({prevCard:o[e],isFlipping:!1}),t.abrupt("return");case 19:return o[e].card.iconName===s.card.iconName?(o[e].isChecked=!0,o[s.id].isChecked=!0,this.setState({cards:o}),n()):this.flip([e,s.id]),t.next=22,this.setState({prevCard:null,isFlipping:!1});case 22:this.checkClear()&&(r(),this.setState({cards:this.getNewCards(this.props.stage,!0),onNextStage:!0}));case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(v.a)(m.a.mark((function t(){var e,a,n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.cards,a=e.map((function(t){return t.id})),this.setState({isFlipping:!0}),t.next=5,this.flip(a);case 5:setTimeout(Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.flip(a);case 2:n.setState({isFlipping:!1});case 3:case"end":return t.stop()}}),t)}))),1e3);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(v.a)(m.a.mark((function t(){var e,a,n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.state,a=e.cards,e.onNextStage&&(this.setState({onNextStage:!1}),setTimeout(Object(v.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.map((function(t){return t.id})),n.setState({isFlipping:!0}),t.next=4,n.flip(e);case 4:setTimeout(Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.flip(e);case 2:n.setState({isFlipping:!1});case 3:case"end":return t.stop()}}),t)}))),1e3);case 5:case"end":return t.stop()}}),t)}))),400));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,a=e.cards,n=e.mapSize;return r.a.createElement("section",{className:"deck"},r.a.createElement("ul",{className:"cards"},a.map((function(e,a){return r.a.createElement(b,{key:e.id,size:n,card:e,handleCardClick:t.handleCardClick.bind(t)})}))))}}]),e}(n.Component),C=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(r)))).state={stage:1,score:0,time:0},a.timerID=0,a}return Object(d.a)(e,t),Object(l.a)(e,[{key:"initStage",value:function(){this.setState({stage:1})}},{key:"stageUp",value:function(){this.setState({stage:this.state.stage+1})}},{key:"startTimer",value:function(){var t=this;this.timerID=setInterval((function(){t.setState({time:t.state.time+1})}),1e3)}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"scoreUp",value:function(){this.setState({score:this.state.score+100})}},{key:"render",value:function(){var t=this.state,e=t.stage,a=t.score,n=t.time;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"\uc9dd \ub9de\ucd94\uae30 \uac8c\uc784"),r.a.createElement("button",{onClick:function(){alert("\uc21c\uc704!")}},"\ub85c\uadf8\uc778")),r.a.createElement("main",null,r.a.createElement("section",{className:"score-panel"},r.a.createElement("div",null,"\uc2a4\ud14c\uc774\uc9c0: ",r.a.createElement("span",null,e)),r.a.createElement("div",null,"\uc810\uc218: ",r.a.createElement("span",null,a)),r.a.createElement("div",null,"\uc2dc\uac04: ",r.a.createElement("span",null,function(t){var e=String(Math.floor(t/3600)),a=t%3600,n=String(Math.floor(a/60)).padStart(2,"0"),r=String(t%60).padStart(2,"0");return"".concat(e,":").concat(n,":").concat(r)}(n)))),r.a.createElement(S,{stage:e,scoreUp:this.scoreUp.bind(this),stageUp:this.stageUp.bind(this)})),r.a.createElement("footer",null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.b.add(o.W),s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.ce2b9877.chunk.js.map