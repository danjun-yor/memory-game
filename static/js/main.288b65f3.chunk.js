(window["webpackJsonpmemory-game"]=window["webpackJsonpmemory-game"]||[]).push([[0],{16:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(14),s=n.n(i),c=n(11),o=n(0),u=(n(24),n(5)),l=n(6),p=n(8),h=n(7),d=n(9),f=(n(25),n(26),n(3)),m=n.n(f),v=n(4),k=n(10);n(28);function g(e){return e.sort((function(){return.5-Math.random()})),e}var y=n(15),b=(n(31),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getClassName",value:function(){var e=this.props,t=e.size,n=e.card,a=n.isFlipping,r=n.isOpened,i=n.isChecked,s=n.shouldShow,c=n.card;return"card x".concat(t," ").concat(a?r?"reverse-flip":"flip":"").concat(s||!c?" show open":"").concat(c?"":" disabled").concat(i?" checked":"")}},{key:"render",value:function(){var e=this.props,t=e.card,n=e.handleCardClick;return r.a.createElement("li",{className:this.getClassName(),onClick:function(e){n(t.id)}},t.card?r.a.createElement(y.a,{icon:t.card}):"")}}]),t}(a.Component)),w=[o.e,o.y,o.f,o.g,o.h,o.H,o.M,o.a,o.l,o.C,o.V,o.U,o.S,o.c,o.b,o.d,o.w,o.A,o.L,o.I,o.G,o.O,o.q,o.o,o.m,o.r,o.s,o.u,o.t,o.v,o.z,o.D,o.E,o.K,o.F,o.Q,o.j,o.p,o.B,o.x,o.J,o.k,o.n,o.i,o.N,o.P,o.R,o.T],S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={cards:n.getNewCards(n.props.stage),isFlipping:!1,mapSize:n.getMapSize(n.props.stage),onNextStage:!1},n.checkCardIds=[],n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getMapSize",value:function(e){var t=Math.floor(Math.sqrt(2*(e+2)));return 2*(e+2)===Math.pow(t,2)?t:t+1}},{key:"getNewCards",value:function(e){var t=g(w).slice(0,e+2),n=this.getMapSize(e),a=Math.pow(n,2),r=new Array(a-2*t.length).fill(0).map((function(e,t){return{id:1e3+t,card:null,isOpened:!0,isFlipping:!1,shouldShow:!1,isChecked:!0}}));return[].concat(Object(k.a)(g([].concat(Object(k.a)(t),Object(k.a)(t))).map((function(e,t){return{id:t,card:e,isOpened:!1,isFlipping:!1,shouldShow:!1,isChecked:!1}}))),Object(k.a)(r))}},{key:"flip",value:function(e){var t=this;return this.startFlip(e),new Promise((function(n,a){setTimeout((function(){setTimeout((function(){return t.finishFlip(e),n(!0)}),400),t.showCard(e)}),400)}))}},{key:"startFlip",value:function(e){var t=this.state.cards.slice(),n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].isFlipping=!0)}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setState({cards:t})}},{key:"finishFlip",value:function(e){var t=this.state.cards.slice(),n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].isOpened=!t[c].isOpened,t[c].isFlipping=!1)}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setState({cards:t})}},{key:"showCard",value:function(e){var t=this.state.cards.slice(),n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;c<t.length&&t[c].card&&(t[c].shouldShow=!t[c].isOpened)}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}this.setState({cards:t})}},{key:"handleCardClick",value:function(){var e=Object(v.a)(m.a.mark((function e(t){var n,a,r,i,s,c,o=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.state.cards.slice())[t]){e.next=3;break}return e.abrupt("return");case 3:if(n[t].card){e.next=5;break}return e.abrupt("return");case 5:if(!n[t].isOpened){e.next=7;break}return e.abrupt("return");case 7:if(!n[t].isChecked){e.next=9;break}return e.abrupt("return");case 9:if(!n[t].isFlipping){e.next=11;break}return e.abrupt("return");case 11:return(a=this.checkCardIds).push(t),e.next=15,this.flip([t]);case 15:if(!n.every((function(e){return!e.isFlipping}))){e.next=25;break}for(r=0,i=0,s=[];a.length>=2;)c=a.splice(0,2),n[c[0]].card.iconName===n[c[1]].card.iconName?(n[c[0]].isChecked=!0,n[c[1]].isChecked=!0,r++):(s.push.apply(s,Object(k.a)(c)),i++);if(!(s.length>0)){e.next=22;break}return e.next=22,this.flip(s);case 22:this.props.scoreUp(r),this.props.scoreDown(i),n.every((function(e){return e.isChecked}))?setTimeout((function(){o.props.stageUp(),o.setState({cards:o.getNewCards(o.props.stage),mapSize:o.getMapSize(o.props.stage),onNextStage:!0})}),800):this.setState({cards:n});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n,a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.cards,n=t.map((function(e){return e.id})),e.next=4,this.flip(n);case 4:setTimeout(Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.flip(n);case 2:case"end":return e.stop()}}),e)}))),1e3);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t,n,a=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.onNextStage,n=this.state.cards,t&&(this.setState({onNextStage:!1}),setTimeout(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.map((function(e){return e.id})),e.next=3,a.flip(t);case 3:setTimeout(Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.flip(t);case 2:case"end":return e.stop()}}),e)}))),1e3);case 4:case"end":return e.stop()}}),e)}))),400));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.cards,a=t.mapSize;return r.a.createElement("section",{className:"deck"},r.a.createElement("ul",{className:"cards"},n.map((function(t,n){return r.a.createElement(b,{key:t.id,size:a,card:t,handleCardClick:e.handleCardClick.bind(e)})}))))}}]),t}(a.Component),O=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={stage:1,score:0,time:0},n.timerID=0,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"initStage",value:function(){this.setState({stage:1})}},{key:"stageUp",value:function(){this.setState({stage:this.state.stage+1})}},{key:"startTimer",value:function(){var e=this;this.timerID=setInterval((function(){e.setState({time:e.state.time+1})}),1e3)}},{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"scoreUp",value:function(e){this.setState({score:this.state.score+100*e})}},{key:"scoreDown",value:function(e){this.setState({score:this.state.score-10*e})}},{key:"render",value:function(){var e=this.state,t=e.stage,n=e.score,a=e.time;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"\uc9dd \ub9de\ucd94\uae30 \uac8c\uc784"),r.a.createElement("button",{onClick:function(){alert("\uc21c\uc704!")}},"\ub85c\uadf8\uc778")),r.a.createElement("main",null,r.a.createElement("section",{className:"score-panel"},r.a.createElement("div",null,"\uc2a4\ud14c\uc774\uc9c0: ",r.a.createElement("span",null,t)),r.a.createElement("div",null,"\uc810\uc218: ",r.a.createElement("span",null,n)),r.a.createElement("div",null,"\uc2dc\uac04: ",r.a.createElement("span",null,function(e){var t=String(Math.floor(e/3600)),n=e%3600,a=String(Math.floor(n/60)).padStart(2,"0"),r=String(e%60).padStart(2,"0");return"".concat(t,":").concat(a,":").concat(r)}(a)))),r.a.createElement(S,{stage:t,scoreUp:this.scoreUp.bind(this),scoreDown:this.scoreDown.bind(this),stageUp:this.stageUp.bind(this)})),r.a.createElement("footer",null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.b.add(o.W),s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.288b65f3.chunk.js.map